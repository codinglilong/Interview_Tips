<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        //Promise 是解决异步编程嵌套回调问题。
        //Promise 一、对象的状态不受外界影响。
        //三种状态 pending(进行中) fulfilled(已完成) rejected(失败)
        //二、一旦状态改变就不会在变
        //Promise的任务状态只有两种，要么是pending变为fulfilled或者是pending变为rejected
        //如果确定了状态，再次调用Promise对象添加回调函数，也会立即得到这个结果
        //Promise缺点：
        //1. 无法取消Promise
        //2. 如果不设置回调函数，Promise内部会抛出错误，不会反应到外部
        //3. 当处于pending状态时，无法得知目前进制到哪一个阶段。


        //then接受2个参数，resolved和rejected的状态回调函数。第二个函数为可选的
        Promise.resolve(1).then(x=>{
            x+1
        }).then(x=>{
            throw new Error('My Error');
        }).catch(()=> 2)
        .then(x=>x+3)
        .then(x=>console.log(x))
        .catch(console.error)
    </script>
</head>
<body>
    
</body>
</html>